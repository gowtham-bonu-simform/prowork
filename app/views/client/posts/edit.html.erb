<%= render 'layouts/preloader' %>
<%= render 'layouts/header' %>
<div class='card container w-50 pt-5 pb-5 p-4'>
  <h2 class='mb-3 text-center'>Edit Job</h2>
  <% if !@post.errors.empty? %>
      <ul class='alert alert-danger'>
        <% @post.errors.to_a.each do |error| %>
          <li><%=error%></li>
        <% end %>
      </ul>
    <% end %>
  <%= form_with model: @post, url: client_post_path do |f| %>
    <div class="mb-3 field">
      <%= f.label :title, 'Write a title for your job post', class: "form-label" %>
      <%= f.text_field :title, class: "form-control" %>
    </div>

    <div class="mb-3 field">
      <%= f.label :skill_list, "Skills (separated by commas)", class: "form-label" %>
      <%= f.text_field :skill_list, class: "form-control", value: @post.skill_list.join(", ") %>
    </div>

    <div class="mb-3 field">
      <%= f.label :minimum_span_in_months, class: "form-label" %>
      <input name="post[months][]" type="number" min="1" max="11", class="form-control", value=<%= @post.months[0] %> />
    </div>

    <div class="mb-3 field">
      <%= f.label :maximum_span_in_months, class: "form-label" %>
      <input name="post[months][]" type="number" min="1" max="12", class="form-control", value=<%= @post.months[1] %> />
    </div>

    <div class="mb-3 field">
      <%= f.label :min_rate, class: "form-label" %>
      <input name="post[hourly_rate][]" type="number" min="3" step="0.1", class="form-control", value=<%= @post.months[0] %> />
    </div>

    <div class="mb-3 field">
      <%= f.label :max_rate, class: "form-label" %>
      <input name="post[hourly_rate][]" type="number" min="4" step="0.1", class="form-control", value=<%= @post.months[1] %> />
    </div>

    <div class='mt-3 mb-3'>
      Experience level:
      <div  class='form-check mt-1'>
        <%= f.label :entry, class: "form-check-label"  %>
        <%= f.radio_button :experience, 'entry', class: "form-check-input" %>
      </div>

      <div class='form-check'>
        <%= f.label :intermediate, class: "form-check-label"  %>
        <%= f.radio_button :experience, 'intermediate', class: "form-check-input" %>
      </div>

      <div class='form-check'>
        <%= f.label :expert, class: "form-check-label" %>
        <%= f.radio_button :experience, 'expert', class: "form-check-input" %>
      </div>
    </div>

    <%= f.label :project_budget, class: "form-label" %>
    <%= f.number_field :project_budget, in: 0...1000000 , step: 0.1, class: "form-control" %>

    <%= f.label :description, class: "form-label" %>
    <%= f.text_area :description, size: "40x10", class: 'form-control' %>

    <div class="text-center"><%= f.submit "edit this job", class: 'btn btn-outline-dark mt-4', data: {turbo: false} %> </div>
  <% end %>
</div>